(self.webpackChunkpodster_fm=self.webpackChunkpodster_fm||[]).push([[454],{110:function(){document.querySelectorAll("input[data-ui-kit-id='password']").forEach((e=>{const t=e.closest(".form-control__wrapper").querySelector(".form-control__password-toggle");t.addEventListener("click",(()=>{t.classList.contains("form-control__password-toggle_visible")?(t.classList.remove("form-control__password-toggle_visible"),e.type="password"):(t.classList.add("form-control__password-toggle_visible"),e.type="text")}))}))},218:function(e,t,r){"use strict";function o(e){e.classList.contains("form-select__arrow_rotated")?e.classList.remove("form-select__arrow_rotated"):e.classList.add("form-select__arrow_rotated")}r.d(t,{z:function(){return o}})},839:function(e,t,r){"use strict";r.d(t,{S:function(){return n}});var o=r(218);function n(e,t){e.classList.contains("visually-hidden")?e.classList.remove("visually-hidden"):e.classList.add("visually-hidden"),(0,o.z)(t)}},773:function(e,t,r){"use strict";var o=r(839),n=r(760);document.querySelectorAll(".form-select").forEach((e=>{const t=e.querySelector(".form-select__dropdown"),r=t.querySelectorAll(".form-check"),c=e.querySelector(".form-select__desktop .form-select__arrow"),s=e.querySelector("select"),l=e.querySelector("button.form-select__select"),a=e.querySelector(".form-select__mobile .form-select__placeholder");s.value="",(0,n.s)()?(e.querySelector(".form-select__desktop").classList.add("visually-hidden"),e.querySelector(".form-select__mobile").classList.remove("visually-hidden"),s.addEventListener("change",(()=>{s.hasAttribute("multiple")?Array.from(s.querySelectorAll("option")).filter((e=>e.selected)).length>0?s.classList.remove("form-select__select_not-selected"):s.classList.add("form-select__select_not-selected"):(a.textContent=s.querySelector(`option[value="${s.value}"]`).text,a.classList.remove("form-select__select_not-selected"))}))):(e.querySelector(".form-select__mobile").classList.add("visually-hidden"),e.querySelector("button.form-select__select").addEventListener("click",(e=>{e.preventDefault(),(0,o.S)(t,c)}))),t.querySelectorAll("input.form-check__box").forEach((e=>{e.removeAttribute("name")})),r.forEach((n=>{n.addEventListener("change",(n=>{if(s.classList.remove("form-select__select_not-selected"),e.querySelector("button.form-select__select").classList.remove("form-select__select_not-selected"),!0===s.multiple){s.querySelector(`select option[value="${n.target.dataset.optionValue}"]`).setAttribute("selected","");const e=s.querySelectorAll("option[selected]");l.textContent=e.length>0&&e.length<=1?e[0].text:`Выбрано: ${e.length}`}else e.querySelectorAll("select option").forEach((e=>{e.hasAttribute("selected")&&e.removeAttribute("selected"),e.value===n.target.dataset.optionValue&&(e.setAttribute("selected",""),s.dispatchEvent(new Event("change")),l.textContent=s.querySelector(`option[value="${s.value}"]`).text)})),r.forEach((e=>{e.querySelector("input[type=checkbox]")!==n.target&&(e.querySelector("input[type=checkbox]").checked=!1)})),setTimeout((()=>{(0,o.S)(t,c)}),150)}))})),document.addEventListener("click",(r=>{t.classList.contains("visually-hidden")||(0,n.s)()||!1===r.composedPath().includes(e)&&(0,o.S)(t,c)}))}))},112:function(e,t,r){"use strict";r(110),r(773)},809:function(e,t,r){"use strict";function o(e){e.forEach((e=>{let{buttonID:t,modalID:r}=e;document.getElementById(t).addEventListener("click",(e=>{e.preventDefault(),function(e){document.querySelector("body").style.overflow="hidden",document.getElementById(e).classList.remove("modal_hidden","modal_fade")}(r)}))}))}r.d(t,{_:function(){return o}})},678:function(e,t,r){"use strict";function o(e){const t=e.target?e.target.closest(".modal"):document.getElementById(e);t.classList.add("modal_fade"),window.setTimeout((()=>{t.classList.add("modal_hidden"),document.querySelector("body").style.overflow="auto"}),300)}r.d(t,{M:function(){return o}})},605:function(e,t,r){"use strict";var o=r(678),n=r(372);document.querySelectorAll(".modal").forEach((e=>{e.querySelector(`#${n.SU.MODAL_CLOSE_BUTTON}`)&&e.querySelector(`#${n.SU.MODAL_CLOSE_BUTTON}`).addEventListener("click",o.M)}))},829:function(e,t,r){"use strict";var o=r(678);function n(e){const t=e.target.closest(".modal__body"),r=t.querySelector("#overflow-block"),o=t.querySelector("#scrolling-block"),c=t.querySelector("#accept-button");o.scrollHeight-r.offsetHeight===r.scrollTop&&(c.disabled=!1,r.removeEventListener("scroll",n))}function c(e){const t=e.target.closest(".modal"),r=document.querySelector(`input[data-modal-id="${t.id}"]`);r.checked=!0,r.dataset.verificated=!0,r.dispatchEvent(new Event("change")),(0,o.M)(t.id)}document.querySelectorAll(".registration__modal").forEach((e=>{e.querySelector("#cancel-button").addEventListener("click",o.M),e.querySelector("#overflow-block").addEventListener("scroll",n),e.querySelector("#accept-button").addEventListener("click",c)}))},46:function(e,t,r){"use strict";r.d(t,{M:function(){return n}});var o=r(372);function n(){const e=Array.from(document.querySelectorAll("[data-must-be-validated=true]"));return{validatedControls:e,debounceControls:[o.iB.REGISTRATION_CONTROLS.ADVERTISER_INN,o.iB.REGISTRATION_CONTROLS.ADVERTISER_EMAIL].map((e=>document.getElementById(e))),noDebounceControls:[...e].filter((e=>![o.iB.REGISTRATION_CONTROLS.ADVERTISER_INN,o.iB.REGISTRATION_CONTROLS.ADVERTISER_EMAIL].includes(e.name)&&e))}}},470:function(e,t,r){"use strict";function o(e,t){!function(e){let t=!0;return Array.from(e).filter((e=>"SELECT"!==e.tagName)).forEach((e=>{e.dataset.verificated||(t=!1)})),t}(e)?t.setAttribute("disabled",""):t.removeAttribute("disabled")}r.d(t,{p:function(){return o}})},918:function(e,t,r){"use strict";r.d(t,{T:function(){return c}});var o=r(583),n=r(302);function c(e,t){(0,o.d)(e)?window.location.href="./registrationThanks.html":(0,n.l)(e,t)}},22:function(e,t,r){"use strict";r.d(t,{s:function(){return I}});var o=r(40);function n(e){const t=(0,o.D)(e);t.classList.remove("form-control_with-error"),t.querySelector("span.error")&&(t.querySelector("span.error").textContent="")}var c=r(241);const s={INN:{legal_person:/^[0-9]{10}$/,other:/^[0-9]{12}$/},EMAIL:/[a-z0-9]+@[a-z0-9]+\.[a-z0-9]+/i,PASSWORD:/^(?=.*[0-9])(?=.*[A-Z])\w{8,30}$/m};var l=r(695),a=r(652);function i(e,t){n(e);const r=e.value.trim(),i=e.closest("form").querySelector(`#${t.ADVERTISER_TYPE}`);if(r.length>=10)return i.value?!!function(e){return e===c.d.LEGAL_PERSON.VALUE?s.INN.legal_person:s.INN.other}(i.value).test(r)||((0,l.X)(e,a.S.EC001()),!1):((0,l.X)(e,`${a.S.EC002(function(e){return(0,o.D)(e).querySelector("label").textContent}(i))}`),!1)}var u=r(372),d=r(609),E=r(583);function R(e){if((0,E.d)(e)){const t=document.getElementById(u.iB.REGISTRATION_CONTROLS.ADVERTISER_INN);t.dataset.verificated=!0,t.hasAttribute("readonly")&&t.removeAttribute("readonly"),document.getElementById(u.iB.REGISTRATION_CONTROLS.ADVERTISER_TYPE).value!==c.d.NATURAL_PERSON.VALUE&&(S(u.iB.REGISTRATION_CONTROLS.ADVERTISER_NAME,e),S(u.iB.REGISTRATION_CONTROLS.ADVERTISER_OGRN,e),S(u.iB.REGISTRATION_CONTROLS.ADVERTISER_OKVED,e),document.getElementById(u.iB.REGISTRATION_CONTROLS.ADVERTISER_BACK_DATA_BLOCK).classList.remove("visually-hidden"))}}function S(e,t){const r=document.getElementById(e);r.value=t[e],r.dataset.verificated=!0}function _(e,t){document.getElementById(e).closest(".form-control").querySelector("label").textContent=t.CONTROLS_LABELS[e]}var T=r(302);function A(e,t){if((0,E.d)(e)){const e=t.find((e=>e.name===u.iB.REGISTRATION_CONTROLS.ADVERTISER_EMAIL));e&&(e.dataset.verificated=!0,e.removeAttribute("readonly"))}else(0,T.l)(e,t)}function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=e||document.getElementById(u.iB.REGISTRATION_CONTROLS.ADVERTISER_PASSWORD),o=t||document.getElementById(u.iB.REGISTRATION_CONTROLS.ADVERTISER_PASSWORD_REPEATED);n(o),r.value.length>=u.ps.MIN_PASSWORD_LENGTH&&o.value.length>=u.ps.MIN_PASSWORD_LENGTH&&(o.value!==r.value?(o.dataset.verificated=!1,(0,l.X)(o,a.S.EC003())):"true"===r.dataset.verificated&&o.value===r.value&&(o.dataset.verificated=!0))}const m=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];clearTimeout(t),t=setTimeout((()=>{e(...n)}),r)}}(d.x);function I(e){let t=!1;n(e),e.name===u.iB.REGISTRATION_CONTROLS.ADVERTISER_TYPE&&(document.getElementById(u.iB.REGISTRATION_CONTROLS.ADVERTISER_INN).dataset.verificated=!1,O(),function(e){let t;e===c.d.LEGAL_PERSON.VALUE?t=c.d.LEGAL_PERSON:e===c.d.INDIVIDUAL_ENTREPRENEUR.VALUE&&(t=c.d.INDIVIDUAL_ENTREPRENEUR),e!==c.d.NATURAL_PERSON.VALUE&&(_(u.iB.REGISTRATION_CONTROLS.ADVERTISER_NAME,t),_(u.iB.REGISTRATION_CONTROLS.ADVERTISER_OGRN,t))}(e.value),e.value===c.d.NATURAL_PERSON.VALUE&&document.getElementById(u.iB.REGISTRATION_CONTROLS.ADVERTISER_BACK_DATA_BLOCK).classList.add("visually-hidden"),e.closest("form").querySelector(`#${u.iB.REGISTRATION_CONTROLS.ADVERTISER_INN}`).value.trim()&&(t=i(e.closest("form").querySelector(`#${u.iB.REGISTRATION_CONTROLS.ADVERTISER_INN}`),u.iB.REGISTRATION_CONTROLS))),e.name===u.iB.REGISTRATION_CONTROLS.ADVERTISER_INN&&(e.dataset.verificated=!1,t=i(e,u.iB.REGISTRATION_CONTROLS),t?(e.setAttribute("readonly",""),N([e],"./moc/inn-response-data-success.json",R)):O()),e.name===u.iB.REGISTRATION_CONTROLS.ADVERTISER_EMAIL&&(n(e),e.value.length>=7&&(s.EMAIL.test(e.value.toLowerCase().trim())?N([e],"./moc/email-response-data-success.json",A):(0,l.X)(e,a.S.EC001()))),e.name===u.iB.REGISTRATION_CONTROLS.ADVERTISER_PASSWORD&&(n(e),e.value.length>=u.ps.MIN_PASSWORD_LENGTH&&(s.PASSWORD.test(e.value)?e.dataset.verificated=!0:(e.dataset.verificated=!1,(0,l.X)(e,a.S.EC004())),f())),e.name===u.iB.REGISTRATION_CONTROLS.ADVERTISER_PASSWORD_REPEATED&&(n(e),e.value.length>=u.ps.MIN_PASSWORD_LENGTH&&f())}function O(){document.getElementById(u.iB.REGISTRATION_CONTROLS.ADVERTISER_BACK_DATA_BLOCK).querySelectorAll("input").forEach((e=>{e.value=""}))}function N(e,t,r){m(e,t,r)}},652:function(e,t,r){"use strict";r.d(t,{S:function(){return o}});const o={EC000:()=>"Неизвестная ошибка",EC001:()=>"Некорректное значение поля",EC002:e=>`Сначала заполните поле ${e}`,EC003:()=>"Пароли не совпадают",EC004:()=>"Минимум - 8 символов. Обязательно: одна заглавная буква, одна цифра"}},531:function(e,t,r){"use strict";r(241),r(372)},372:function(e,t,r){"use strict";r.d(t,{SU:function(){return n},iB:function(){return o},ps:function(){return c}});const o={REGISTRATION_FORM:"registration-form",REGISTRATION_FORM_SUBMIT_BUTTON:"registration-form-submit",REGISTRATION_CONTROLS:{ADVERTISER_TYPE:"user-reg-type",ADVERTISER_INN:"user-inn",ADVERTISER_NAME:"user-name",ADVERTISER_OGRN:"user-ogrn",ADVERTISER_OKVED:"user-okved",ADVERTISER_EMAIL:"user-email",ADVERTISER_PASSWORD:"user-password",ADVERTISER_PASSWORD_REPEATED:"user-password-repeated",ADVERTISER_AGREEMENT_DATA_PROCESSING:"agreement-data-processing",ADVERTISER_AGREEMENT_DATA_PROCESSING_BUTTON:"agreement-data-processing-button",ADVERTISER_AGREEMENT_CONTRACT:"agreement-contract",ADVERTISER_AGREEMENT_CONTRACT_BUTTON:"agreement-contract-button",ADVERTISER_BACK_DATA_BLOCK:"advertiser_back_data_block"},REGISTRATION_MODALS:{CONTRACT:"contract-modal",AGREEMENT:"agreement-modal"}},n={MODAL_CLOSE_BUTTON:"modal-close-button"},c={MIN_PASSWORD_LENGTH:8}},241:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});const o={NATURAL_PERSON:{VALUE:"natural_person"},LEGAL_PERSON:{VALUE:"legal_person",CONTROLS_LABELS:{"user-name":"Наименование","user-ogrn":"ОГРН"}},INDIVIDUAL_ENTREPRENEUR:{VALUE:"individual_entrepreneur",CONTROLS_LABELS:{"user-name":"ФИО ИП","user-ogrn":"ОГРНИП"}}}},302:function(e,t,r){"use strict";r.d(t,{l:function(){return c}});var o=r(695),n=r(652);function c(e,t){Array.isArray(t)&&t.forEach((t=>{e["error-info"].forEach((e=>{e["control-name"]===t.name&&(t.dataset.verificated=!1,(0,o.X)(t,e["control-name"]===t.name?e["error-text"]:n.S.EC000()))}))}))}},40:function(e,t,r){"use strict";function o(e){return e.closest(".form-control")??e.closest(".form-check")??e.closest(".form-select")??void 0}r.d(t,{D:function(){return o}})},695:function(e,t,r){"use strict";r.d(t,{X:function(){return c}});var o=r(40),n=r(652);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const r=(0,o.D)(e);r.querySelector("span.error")&&(r.classList.contains("form-control_with-error")?(r.querySelector("span.error").textContent="",r.classList.remove("form-control_with-error")):(r.querySelector("span.error").textContent=t||n.S.EC000,r.classList.add("form-control_with-error")))}},393:function(e,t,r){"use strict";function o(e){return"INPUT"===e.tagName&&"checkbox"!==e.type?"input":"change"}r.d(t,{x:function(){return o}})},583:function(e,t,r){"use strict";r.d(t,{d:function(){return o}});function o(e){return!(!e.status||"success"!==e.status)}},609:function(e,t,r){"use strict";async function o(e,t,r){!function(e){let t;Array.isArray(e)&&(t=new FormData,e.forEach((e=>{e.setAttribute("readonly",""),t.append(e.name,e.value)}))),Array.isArray(e)||null!==!e||"object"!=typeof e||(t=new FormData(e))}(e);const o=await async function(e,t){console.log("sendData");try{const e=await fetch(t,{headers:{"Content-type":"application/json; charset=UTF-8"},method:"GET"});return await e.json()}catch(e){console.error(e)}}(0,t);r(o,e)}r.d(t,{x:function(){return o}})},78:function(e,t,r){"use strict";function o(e,t){t.includes(e.target.name)&&(e.target.value=e.target.value.replace(/[^0-9+]/g,""))}r.d(t,{i:function(){return o}})}}]);